<!DOCTYPE html>
<html>
<head>
<title>ScriptBlox Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<style>
body {
background: #0a0a0a;
color: white;
font-family: Arial;
margin: 0;
padding: 0;
}

.navbar {
background: #1a1a1a;
padding: 20px;
text-align: center;
position: fixed;
width: 100%;
top: 0;
left: 0;
z-index: 100;
box-shadow: 0 2px 10px rgba(0,0,0,0.3);
}

.navbar h1 {
color: #4287f5;
margin: 0;
font-size: 24px;
}

.content {
margin-top: 100px;
max-width: 1200px;
margin-left: auto;
margin-right: auto;
padding: 0 20px;
}

.search-box {
width: 100%;
padding: 15px;
background: #1a1a1a;
border: 2px solid #4287f5;
border-radius: 10px;
color: white;
font-size: 16px;
margin-bottom: 20px;
box-sizing: border-box;
}

.scripts-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
gap: 20px;
}

.script-card {
background: #1a1a1a;
padding: 20px;
border-radius: 10px;
border: 1px solid #4287f5;
transition: transform 0.3s;
height: 100%;
display: flex;
flex-direction: column;
}

.script-card:hover {
transform: translateY(-5px);
box-shadow: 0 5px 15px rgba(66, 135, 245, 0.2);
}

.script-image {
width: 100%;
height: 200px;
object-fit: cover;
border-radius: 10px;
margin-bottom: 15px;
}

.script-title {
color: #4287f5;
font-size: 20px;
margin: 10px 0;
}

.script-description {
color: #888;
margin: 10px 0;
flex-grow: 1;
}

.script-info {
background: #252525;
padding: 10px;
border-radius: 8px;
margin: 10px 0;
font-size: 14px;
}

.button-group {
display: flex;
gap: 10px;
margin-top: auto;
}

.button {
flex: 1;
padding: 10px;
border-radius: 5px;
cursor: pointer;
font-weight: bold;
transition: all 0.3s;
display: flex;
align-items: center;
justify-content: center;
gap: 5px;
}

.copy-btn {
background: #4287f5;
color: white;
border: none;
}

.copy-btn:hover {
background: #3b76d4;
}

.view-btn {
background: transparent;
color: #4287f5;
border: 2px solid #4287f5;
}

.view-btn:hover {
background: rgba(66, 135, 245, 0.1);
}

.loader {
text-align: center;
color: #4287f5;
margin: 20px 0;
display: none;
}

/* Laptop Styles (1024px and up) */
@media (min-width: 1024px) {
.scripts-grid {
grid-template-columns: repeat(3, 1fr);
}

.content {
padding: 0 40px;
}

.script-card {
padding: 25px;
}
}

/* Tablet Styles (768px to 1023px) */
@media (min-width: 768px) and (max-width: 1023px) {
.scripts-grid {
grid-template-columns: repeat(2, 1fr);
}

.navbar h1 {
font-size: 22px;
}
}

/* Mobile Styles (up to 767px) */
@media (max-width: 767px) {
.scripts-grid {
grid-template-columns: 1fr;
}

.content {
padding: 0 15px;
margin-top: 80px;
}

.navbar {
padding: 15px;
}

.navbar h1 {
font-size: 20px;
}

.script-card {
padding: 15px;
}

.button-group {
flex-direction: column;
}

.button {
width: 100%;
margin: 5px 0;
}

.script-info {
font-size: 12px;
}
}
</style>
</head>
<!DOCTYPE html>
<html>
<head>
<title>ScriptBlox Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<style>
body {
background: #0a0a0a;
color: white;
font-family: Arial;
margin: 0;
padding: 0;
}

.navbar {
background: #1a1a1a;
padding: 20px;
text-align: center;
position: fixed;
width: 100%;
top: 0;
left: 0;
z-index: 100;
box-shadow: 0 2px 10px rgba(0,0,0,0.3);
}

.navbar h1 {
color: #4287f5;
margin: 0;
font-size: 24px;
}

.content {
margin-top: 100px;
max-width: 1200px;
margin-left: auto;
margin-right: auto;
padding: 0 20px;
}

.search-box {
width: 100%;
padding: 15px;
background: #1a1a1a;
border: 2px solid #4287f5;
border-radius: 10px;
color: white;
font-size: 16px;
margin-bottom: 20px;
}

.script-card {
background: #1a1a1a;
padding: 20px;
margin-bottom: 20px;
border-radius: 10px;
border: 1px solid #4287f5;
transition: transform 0.3s;
}

.script-card:hover {
transform: translateY(-5px);
box-shadow: 0 5px 15px rgba(66, 135, 245, 0.2);
}

.script-image {
width: 100%;
height: 200px;
object-fit: cover;
border-radius: 10px;
margin-bottom: 15px;
}

.script-title {
color: #4287f5;
font-size: 20px;
margin: 10px 0;
}

.script-info {
background: #252525;
padding: 10px;
border-radius: 8px;
margin: 10px 0;
}

.button {
padding: 10px 20px;
border-radius: 5px;
cursor: pointer;
margin-right: 10px;
font-weight: bold;
transition: all 0.3s;
}

.copy-btn {
background: #4287f5;
color: white;
border: none;
}

.copy-btn:hover {
background: #3b76d4;
}

.view-btn {
background: transparent;
color: #4287f5;
border: 2px solid #4287f5;
}

.view-btn:hover {
background: rgba(66, 135, 245, 0.1);
}

.loader {
text-align: center;
color: #4287f5;
margin: 20px 0;
display: none;
}

@media (max-width: 768px) {
.content {
padding: 0 15px;
}

.script-card {
margin-bottom: 15px;
}
}
</style>
</head>

<body>
<div class="navbar">
<h1>ScriptBlox Pro</h1>
</div>
<div class="content">
<input type="text" class="search-box" placeholder="Search for scripts (e.g. doors, blox fruits)...">
<div class="loader">
<i class="fas fa-spinner fa-spin"></i> Searching...
</div>
<div id="results"></div>
</div>

<script>
async function searchScripts(query) {
const loader = document.querySelector('.loader');
const results = document.getElementById('results');

loader.style.display = 'block';
results.innerHTML = '';

try {
const response = await fetch('https://scriptblox.com/api/script/search', {
method: 'POST',
headers: {
'Content-Type': 'application/json'
},
body: JSON.stringify({
q: query,
page: 0,
max: 20
})
});

const data = await response.json();
console.log('Search Results:', data);

if (data.result?.scripts?.length > 0) {
data.result.scripts.forEach(script => {
const card = document.createElement('div');
card.className = 'script-card';

const safeScript = script.script ? script.script.replace(//g, '\').replace(/${/g, '${') : '';

card.innerHTML = 
<img class="script-image"
src="${script.game?.imageUrl || 'https://scriptblox.com/images/default.png'}"
onerror="this.src='https://scriptblox.com/images/default.png'"
loading="lazy">
<h3 class="script-title">${script.title || 'Untitled Script'}</h3>
<div class="script-info">
<div><i class="fas fa-gamepad"></i> ${script.game?.name || 'Unknown Game'}</div>
<div><i class="fas fa-eye"></i> ${script.views || 0} views</div>
</div>
<div class="button-group">
<button class="button copy-btn" onclick="copyScript(this, \${safeScript}`)">
<i class="fas fa-copy"></i> Copy Script
</button>
<button class="button view-btn" onclick="window.open('https://scriptblox.com/script/$%7Bscript._id%7D')">
<i class="fas fa-external-link-alt"></i> View Details
</button>
</div>;

results.appendChild(card);
});
} else {
results.innerHTML = 
<div class="script-card" style="text-align: center;">
<i class="fas fa-search"></i>
<div>No scripts found for "${query}"</div>
<div style="color: #888;">Try searching for something else</div>
</div>`;
}
} catch (error) {
console.error('Search Error:', error);
results.innerHTML = `
<div class="script-card" style="text-align: center;">
<i class="fas fa-exclamation-circle"></i>
<div>Error searching scripts</div>
<div style="color: #888;">Please try again in a few moments</div>
</div>`;
} finally {
loader.style.display = 'none';
}
}

function copyScript(button, script) {
if (script) {
try {
navigator.clipboard.writeText(script);
button.innerHTML = '<i class="fas fa-check"></i> Copied!';
button.style.background = '#45a049';

setTimeout(() => {
button.innerHTML = '<i class="fas fa-copy"></i> Copy Script';
button.style.background = '#4287f5';
}, 2000);
} catch (error) {
button.innerHTML = '<i class="fas fa-times"></i> Error!';
button.style.background = '#ff4444';
}
}
}

document.querySelector('.search-box').addEventListener('keyup', function(e) {
if (e.key === 'Enter') {
const query = this.value.trim();
if (query) {
console.log('Searching for:', query);
searchScripts(query);
}
}
});

document.getElementById('results').innerHTML = `
<div class="script-card" style="text-align: center;">
<i class="fas fa-search" style="font-size: 24px; margin-bottom: 10px;"></i>
<div>Enter a search term and press Enter</div>
<div style="color: #888;">Try searching for: doors, blox fruits, psx</div>
</div>`;
</body>
</html>
